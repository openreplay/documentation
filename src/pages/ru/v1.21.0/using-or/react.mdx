---
title: "Использование OpenReplay с React"
metaTitle: "Добавление трекера OpenReplay в ваше React приложение"
metaDescription: "Узнайте, как заставить трекер работать в вашем приложении React"
---
import GoDeeperFooter from '~/components/go-deeper-footer.astro'
import Aside from '~/components/Aside.astro'

Запуск трекера в приложении React довольно прост.

## Добавление кода отслеживания

Хотя вы можете [получить версию кода для копирования и вставки непосредственно с платформы при создании нового проекта](/using-or/snippet#getting-the-snippet), этот код слишком упрощен и сделает настройку и добавление дополнительных плагинов гораздо сложнее.

Если вы создаете SPA (одностраничное приложение), все, что вам нужно сделать, это добавить следующий код в вашу точку входа:

```jsx
import Tracker from '@openreplay/tracker';

const tracker = new Tracker({
projectKey: "<ваш ключ проекта>",  
});

function YourMainComponent({props}) {
//здесь немного кода...

    useEffect(() => {
        tracker.start();
    }, [])

    return //....
}
```

Другими словами, вы можете создать экземпляр трекера в начале скрипта, и как только страница загружается, вы можете запустить его, используя хук `useEffect`.

<Aside type="tip">
	**Примечание для пользователей с собственной размещенной версией**: если вы используете собственно размещенную версию
	OpenReplay, вам также необходимо указать свойство конфигурации `ingestPoint`.
	Это свойство определяет конечную точку ввода данных трекера. Пользователям облачной версии это не нужно,
	потому что по умолчанию трекер знает, где находится облачная версия этой конечной точки, но если вы размещаете ее
	самостоятельно, вам нужно будет указать ее
	(это должно быть что-то вроде `https://openreplay.mydomain.com/ingest`)
</Aside>

### Обработка "projectKey" в вашем коде

Как замечание, `projectKey`, который вы настраиваете, предоставляется платформой OpenReplay. Это значение не должно храниться в коде в явном виде по соображениям безопасности, а должно быть в каком-то конфигурационном файле/системе.

Есть разные варианты решения этой проблемы в зависимости от вашей настройки, вы могли бы использовать что-то вроде [поддержки переменных ENV от `create-react-app`](https://create-react-app.dev/docs/adding-custom-environment-variables/).

## Создаете что-то более сложное?
Если вы создаете сложное приложение с React, скорее всего, вы используете [Next](/using-or/next), [Remix](/using-or/remix) или что-то подобное. Обязательно ознакомьтесь с нашим [разделом настройки](/using-or), чтобы найти фреймворк, с которым вы работаете.

## Есть вопросы?

Если у вас возникли проблемы с настройкой трекера в вашем проекте React, пожалуйста, свяжитесь с нами в нашем [сообществе Slack](https://slack.openreplay.com/) и задайте вопросы нашим разработчикам напрямую!

<GoDeeperFooter/>
